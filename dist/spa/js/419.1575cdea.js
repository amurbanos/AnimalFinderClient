"use strict";(self["webpackChunkanimal_finder_client"]=self["webpackChunkanimal_finder_client"]||[]).push([[419],{3419:(e,l,a)=>{a.r(l),a.d(l,{default:()=>Q});var o=a(3673),t=a(8880);const n=(0,o.Wm)("a",{href:"/"},"Animal FINDER",-1),u={key:2,href:"#/account"},d=(0,o.Wm)("div",{class:"text-h6"},"Faca o login",-1),s=(0,o.Wm)("div",{class:"text-h6"},"Faca o seu cadastro",-1);function r(e,l,a,r,i,p){const m=(0,o.up)("q-btn"),c=(0,o.up)("q-toolbar-title"),g=(0,o.up)("q-toolbar"),w=(0,o.up)("q-header"),f=(0,o.up)("router-view"),h=(0,o.up)("q-page-container"),W=(0,o.up)("q-layout"),y=(0,o.up)("q-card-section"),k=(0,o.up)("q-input"),V=(0,o.up)("q-card-actions"),_=(0,o.up)("q-card"),q=(0,o.up)("q-dialog"),v=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.j4)(o.HY,null,[(0,o.Wm)(W,{view:"lHh Lpr lFf"},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{elevated:""},{default:(0,o.w5)((()=>[(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(m,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[n])),_:1}),(0,o.Wm)("div",null,[e.logged?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)("a",{key:0,href:"javascript: void(0)",onClick:l[1]||(l[1]=l=>e.loginPrompt=!0)}," Entrar ")),e.logged?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)("a",{key:1,href:"javascript: void(0)",onClick:l[2]||(l[2]=l=>e.signupPrompt=!0)}," Cadastrar ")),e.logged?((0,o.wg)(),(0,o.j4)("a",u," Minha conta ")):(0,o.kq)("",!0),e.logged?((0,o.wg)(),(0,o.j4)("a",{key:3,href:"javascript: void(0)",class:"exit--link",onClick:l[3]||(l[3]=l=>e.doLogout())}," Sair ")):(0,o.kq)("",!0)])])),_:1})])),_:1}),(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f)])),_:1})])),_:1}),(0,o.Wm)(q,{modelValue:e.loginPrompt,"onUpdate:modelValue":l[9]||(l[9]=l=>e.loginPrompt=l),persistent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{style:{"min-width":"350px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(y,null,{default:(0,o.w5)((()=>[d])),_:1}),(0,o.Wm)(y,{class:"q-pt-none"},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{dense:"",modelValue:e.user.email,"onUpdate:modelValue":l[4]||(l[4]=l=>e.user.email=l),placeholder:"Digite o seu email",autofocus:"",onKeyup:l[5]||(l[5]=(0,t.D2)((l=>e.doLogin()),["enter"]))},null,8,["modelValue"])])),_:1}),(0,o.Wm)(y,{class:"q-pt-none"},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{dense:"",modelValue:e.user.password,"onUpdate:modelValue":l[6]||(l[6]=l=>e.user.password=l),type:"password",placeholder:"Senha",autofocus:"",onKeyup:l[7]||(l[7]=(0,t.D2)((l=>e.doLogin()),["enter"]))},null,8,["modelValue"])])),_:1}),(0,o.Wm)(V,{align:"right",class:"text-primary"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(m,{flat:"",label:"Cancelar"},null,512),[[v]]),(0,o.Wm)(m,{flat:"",label:"Entrar",onClick:l[8]||(l[8]=l=>e.doLogin())})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(q,{modelValue:e.signupPrompt,"onUpdate:modelValue":l[19]||(l[19]=l=>e.signupPrompt=l),persistent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{style:{"min-width":"350px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(y,null,{default:(0,o.w5)((()=>[s])),_:1}),(0,o.Wm)(y,{class:"q-pt-none"},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{dense:"",modelValue:e.user.email,"onUpdate:modelValue":l[10]||(l[10]=l=>e.user.email=l),placeholder:"Digite o seu email",autofocus:"",onKeyup:l[11]||(l[11]=(0,t.D2)((l=>e.prompt=!1),["enter"]))},null,8,["modelValue"])])),_:1}),(0,o.Wm)(y,{class:"q-pt-none"},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{dense:"",modelValue:e.user.password,"onUpdate:modelValue":l[12]||(l[12]=l=>e.user.password=l),type:"password",placeholder:"Senha",autofocus:"",onKeyup:l[13]||(l[13]=(0,t.D2)((l=>e.prompt=!1),["enter"]))},null,8,["modelValue"])])),_:1}),(0,o.Wm)(y,{class:"q-pt-none"},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{dense:"",modelValue:e.user.password,"onUpdate:modelValue":l[14]||(l[14]=l=>e.user.password=l),type:"phone",placeholder:"Repetir Senha",autofocus:"",onKeyup:l[15]||(l[15]=(0,t.D2)((l=>e.prompt=!1),["enter"]))},null,8,["modelValue"])])),_:1}),(0,o.Wm)(y,{class:"q-pt-none"},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{dense:"",modelValue:e.user.phone,"onUpdate:modelValue":l[16]||(l[16]=l=>e.user.phone=l),type:"phone",placeholder:"Telefone",autofocus:"",onKeyup:l[17]||(l[17]=(0,t.D2)((l=>e.prompt=!1),["enter"]))},null,8,["modelValue"])])),_:1}),(0,o.Wm)(V,{align:"right",class:"text-primary"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(m,{flat:"",label:"Cancelar"},null,512),[[v]]),(0,o.Wm)(m,{flat:"",label:"Cadastrar",onClick:l[18]||(l[18]=l=>e.doLogin())})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var i=a(6417);const p=a(52).default,m="http://172.17.0.2:3000",c=(0,o.aZ)({name:"MainLayout",components:{},data(){return{data:{},user:{email:null,password:null,phone:null},loginPrompt:!1,logged:!1,signupPrompt:!1}},mounted(){const e=window.localStorage.getItem("token");this.logged=!!e},methods:{doLogin(){const e=JSON.stringify({user:this.user});p.post(m+"/api/v1/users/login",e,{headers:{"Content-Type":"application/json"}}).then((e=>{this.data=e.data,null==this.data.token?i.Z.create({type:"negative",message:"Usuario ou senha invalidos"}):(window.location.href="#/account?login=success",this.loginPrompt=!1,this.logged=!0,window.localStorage.setItem("token",this.data.token))}))},doLogout(){window.localStorage.clear("token"),this.logged=!1,window.location.href="#/"}}});var g=a(3066),w=a(3812),f=a(9570),h=a(3187),W=a(3747),y=a(2652),k=a(2134),V=a(151),_=a(5589),q=a(6805),v=a(9367),C=a(677),Z=a(7518),b=a.n(Z);c.render=r;const Q=c;b()(c,"components",{QLayout:g.Z,QHeader:w.Z,QToolbar:f.Z,QBtn:h.Z,QToolbarTitle:W.Z,QPageContainer:y.Z,QDialog:k.Z,QCard:V.Z,QCardSection:_.Z,QInput:q.Z,QCardActions:v.Z}),b()(c,"directives",{ClosePopup:C.Z})}}]);