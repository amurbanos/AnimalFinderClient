"use strict";(self["webpackChunkanimal_finder_client"]=self["webpackChunkanimal_finder_client"]||[]).push([[943],{27:(e,t,a)=>{a.d(t,{C:()=>o});const o={apiUrl:"http://api.animalfinder.urbanodata.com.br"}},943:(e,t,a)=>{a.r(t),a.d(t,{default:()=>j});var o=a(3673),n=a(2323),l=a(8880);const i={class:"row main--row"},s=(0,o.Wm)("div",{class:"col-12"},[(0,o.Wm)("h3",null," Perdidos ")],-1),d={class:"text-center"},c={class:"row"},p={class:"pagination text-center col-12"},r=(0,o.Wm)("div",{class:"text-h6"},"Digite seu telefona para contato",-1);function u(e,t,a,u,m,g){const f=(0,o.up)("q-btn"),v=(0,o.up)("q-page"),h=(0,o.up)("q-card-section"),W=(0,o.up)("q-input"),w=(0,o.up)("q-card-actions"),P=(0,o.up)("q-card"),C=(0,o.up)("q-dialog"),F=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.j4)(o.HY,null,[(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[(0,o.Wm)("div",i,[s,((0,o.wg)(!0),(0,o.j4)(o.HY,null,(0,o.Ko)(e.data.pets,(t=>((0,o.wg)(),(0,o.j4)("div",{key:t.id,class:"col-lg-3 col-sm-4 col-12 pet--card"},[(0,o.Wm)("div",d,[(0,o.Wm)("img",{src:e.apiUrl+t.image_url},null,8,["src"])]),(0,o.Wm)("div",null," Nome: "+(0,n.zw)(t.name),1),(0,o.Wm)("div",null," Idade: "+(0,n.zw)(t.age),1),(0,o.Wm)("div",null," Descricao: "+(0,n.zw)(t.age),1),(0,o.Wm)("div",null,[(0,o.Wm)(f,{color:"black",label:"Encontrei",class:"btn--report",onClick:a=>{e.promptPetFound=!0,e.petFound=t}},null,8,["onClick"])])])))),128))]),(0,o.Wm)("div",c,[(0,o.Wm)("div",p,[(0,o.Wm)("a",{href:"javascript: void(0)",onClick:t[1]||(t[1]=t=>e.getPage(1))},"«"),((0,o.wg)(!0),(0,o.j4)(o.HY,null,(0,o.Ko)(e.data.total_pages,(t=>((0,o.wg)(),(0,o.j4)("a",{href:"javascript: void(0)",key:t,onClick:a=>e.getPage(t)},(0,n.zw)(t),9,["onClick"])))),128)),(0,o.Wm)("a",{href:"javascript: void(0)",onClick:t[2]||(t[2]=t=>e.getPage(e.data.total_pages))},"»")])])])),_:1}),(0,o.Wm)(C,{modelValue:e.promptPetFound,"onUpdate:modelValue":t[6]||(t[6]=t=>e.promptPetFound=t),persistent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(P,{style:{"min-width":"350px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[r])),_:1}),(0,o.Wm)(h,{class:"q-pt-none"},{default:(0,o.w5)((()=>[(0,o.Wm)(W,{dense:"",modelValue:e.petFound.information,"onUpdate:modelValue":t[3]||(t[3]=t=>e.petFound.information=t),placeholder:"Digite o seu telefone para contato",mask:"(##) ##### - ####",autofocus:"",onKeyup:t[4]||(t[4]=(0,l.D2)((t=>e.validatePetFound()),["enter"])),class:"text-center"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(w,{align:"right",class:"text-primary"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(f,{flat:"",label:"Cancelar"},null,512),[[F]]),(0,o.Wm)(f,{flat:"",label:"Comunicar",onClick:t[5]||(t[5]=t=>e.validatePetFound())})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var m=a(27),g=a(6417);const f=m.C.apiUrl,v=a(52).default,h=(0,o.aZ)({name:"PageIndex",components:{},data(){return{data:{},apiUrl:f,promptPetFound:!1,petFound:{}}},mounted(){this.getPage(1)},methods:{getPage(e){v.get(f+"/api/v1/pets?page="+e).then((e=>this.data=e.data))},validatePetFound(){this.petFound.information?this.setPetFound():g.Z.create({type:"negative",message:"Digite o telefone"})},setPetFound(){const e=JSON.stringify({pet:this.petFound});v.patch(f+"/api/v1/pets/"+this.petFound.id,e,{headers:{"Content-Type":"application/json",Authorization:this.token}}).then((e=>{g.Z.create({type:"positive",message:"Notificado com sucesso, aguarde o contato!"}),this.getPage(1),this.promptPetFound=!1})).catch((e=>{g.Z.create({type:"negative",message:"Nao foi possivel notificar"}),this.pet.errors=e.response.data}))}}});var W=a(4379),w=a(3187),P=a(2134),C=a(151),F=a(5589),k=a(6805),_=a(9367),Z=a(677),y=a(7518),b=a.n(y);h.render=u;const j=h;b()(h,"components",{QPage:W.Z,QBtn:w.Z,QDialog:P.Z,QCard:C.Z,QCardSection:F.Z,QInput:k.Z,QCardActions:_.Z}),b()(h,"directives",{ClosePopup:Z.Z})}}]);