"use strict";(self["webpackChunkanimal_finder_client"]=self["webpackChunkanimal_finder_client"]||[]).push([[51],{9051:(e,l,o)=>{o.r(l),o.d(l,{default:()=>Q});var a=o(3673),t=o(8880);const n=(0,a.Wm)("a",{href:"/"},"Animal FINDER",-1),u={key:2,href:"#/account"},d=(0,a.Wm)("div",{class:"text-h6"},"Faca o login",-1),r=(0,a.Wm)("div",{class:"text-h6"},"Faca o seu cadastro",-1);function s(e,l,o,s,i,p){const m=(0,a.up)("q-btn"),c=(0,a.up)("q-toolbar-title"),g=(0,a.up)("q-toolbar"),w=(0,a.up)("q-header"),h=(0,a.up)("router-view"),f=(0,a.up)("q-page-container"),W=(0,a.up)("q-layout"),k=(0,a.up)("q-card-section"),y=(0,a.up)("q-input"),V=(0,a.up)("q-card-actions"),_=(0,a.up)("q-card"),q=(0,a.up)("q-dialog"),v=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(a.HY,null,[(0,a.Wm)(W,{view:"lHh Lpr lFf"},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{elevated:""},{default:(0,a.w5)((()=>[(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[n])),_:1}),(0,a.Wm)("div",null,[e.logged?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)("a",{key:0,href:"javascript: void(0)",onClick:l[1]||(l[1]=l=>e.loginPrompt=!0)}," Entrar ")),e.logged?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)("a",{key:1,href:"javascript: void(0)",onClick:l[2]||(l[2]=l=>e.signupPrompt=!0)}," Cadastrar ")),e.logged?((0,a.wg)(),(0,a.j4)("a",u," Minha conta ")):(0,a.kq)("",!0),e.logged?((0,a.wg)(),(0,a.j4)("a",{key:3,href:"javascript: void(0)",class:"exit--link",onClick:l[3]||(l[3]=l=>e.doLogout())}," Sair ")):(0,a.kq)("",!0)])])),_:1})])),_:1}),(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Wm)(h)])),_:1})])),_:1}),(0,a.Wm)(q,{modelValue:e.loginPrompt,"onUpdate:modelValue":l[9]||(l[9]=l=>e.loginPrompt=l),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[d])),_:1}),(0,a.Wm)(k,{class:"q-pt-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{dense:"",modelValue:e.user.email,"onUpdate:modelValue":l[4]||(l[4]=l=>e.user.email=l),placeholder:"Digite o seu email",autofocus:"",onKeyup:l[5]||(l[5]=(0,t.D2)((l=>e.doLogin()),["enter"]))},null,8,["modelValue"])])),_:1}),(0,a.Wm)(k,{class:"q-pt-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{dense:"",modelValue:e.user.password,"onUpdate:modelValue":l[6]||(l[6]=l=>e.user.password=l),type:"password",placeholder:"Senha",autofocus:"",onKeyup:l[7]||(l[7]=(0,t.D2)((l=>e.doLogin()),["enter"]))},null,8,["modelValue"])])),_:1}),(0,a.Wm)(V,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(m,{color:"red",label:"Cancelar"},null,512),[[v]]),(0,a.Wm)(m,{color:"black",label:"Entrar",onClick:l[8]||(l[8]=l=>e.doLogin())})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(q,{modelValue:e.signupPrompt,"onUpdate:modelValue":l[19]||(l[19]=l=>e.signupPrompt=l),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[r])),_:1}),(0,a.Wm)(k,{class:"q-pt-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{dense:"",modelValue:e.user.email,"onUpdate:modelValue":l[10]||(l[10]=l=>e.user.email=l),placeholder:"Digite o seu email",autofocus:"",onKeyup:l[11]||(l[11]=(0,t.D2)((l=>e.prompt=!1),["enter"]))},null,8,["modelValue"])])),_:1}),(0,a.Wm)(k,{class:"q-pt-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{dense:"",modelValue:e.user.password,"onUpdate:modelValue":l[12]||(l[12]=l=>e.user.password=l),type:"password",placeholder:"Senha",autofocus:"",onKeyup:l[13]||(l[13]=(0,t.D2)((l=>e.prompt=!1),["enter"]))},null,8,["modelValue"])])),_:1}),(0,a.Wm)(k,{class:"q-pt-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{dense:"",modelValue:e.user.password,"onUpdate:modelValue":l[14]||(l[14]=l=>e.user.password=l),type:"phone",placeholder:"Repetir Senha",autofocus:"",onKeyup:l[15]||(l[15]=(0,t.D2)((l=>e.prompt=!1),["enter"]))},null,8,["modelValue"])])),_:1}),(0,a.Wm)(k,{class:"q-pt-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{dense:"",modelValue:e.user.phone,"onUpdate:modelValue":l[16]||(l[16]=l=>e.user.phone=l),type:"phone",placeholder:"Telefone",autofocus:"",onKeyup:l[17]||(l[17]=(0,t.D2)((l=>e.prompt=!1),["enter"]))},null,8,["modelValue"])])),_:1}),(0,a.Wm)(V,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(m,{color:"red",label:"Cancelar"},null,512),[[v]]),(0,a.Wm)(m,{color:"black",label:"Cadastrar",onClick:l[18]||(l[18]=l=>e.doLogin())})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var i=o(6417);const p=o(52).default,m="http://172.17.0.2:3000",c=(0,a.aZ)({name:"MainLayout",components:{},data(){return{data:{},user:{email:null,password:null,phone:null},loginPrompt:!1,logged:!1,signupPrompt:!1}},mounted(){const e=window.localStorage.getItem("token");this.logged=!!e},methods:{doLogin(){const e=JSON.stringify({user:this.user});p.post(m+"/api/v1/users/login",e,{headers:{"Content-Type":"application/json"}}).then((e=>{this.data=e.data,null==this.data.token?i.Z.create({type:"negative",message:"Usuario ou senha invalidos"}):(window.location.href="#/account?login=success",this.loginPrompt=!1,this.logged=!0,window.localStorage.setItem("token",this.data.token))}))},doLogout(){window.localStorage.clear("token"),this.logged=!1,window.location.href="#/"}}});var g=o(3066),w=o(3812),h=o(9570),f=o(3187),W=o(3747),k=o(2652),y=o(2134),V=o(151),_=o(5589),q=o(6805),v=o(9367),C=o(677),b=o(7518),Z=o.n(b);c.render=s;const Q=c;Z()(c,"components",{QLayout:g.Z,QHeader:w.Z,QToolbar:h.Z,QBtn:f.Z,QToolbarTitle:W.Z,QPageContainer:k.Z,QDialog:y.Z,QCard:V.Z,QCardSection:_.Z,QInput:q.Z,QCardActions:v.Z}),Z()(c,"directives",{ClosePopup:C.Z})}}]);